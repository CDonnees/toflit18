/**
 * TOFLIT18 Client Stylesheet Endpoint
 * ====================================
 *
 * The main stylesheet used by the client application.
 */
@import "fonts";

/**
 * Custom variables.
 */

// Colors
$text-black:       #373a3c;

$light-grey:       #F5F5F5;
$medium-grey:      #E7E7E7;
$dark-grey:        #D1D1D1;
$dark:             #555;
$darker:           #333;

$sweet-promises:   #F2DEBD;
$inspiring-words:  #E2C18B;
$dust-sun:         #E4AF8E;
$poison-blusher:   #BF8176;
$old-blue:         #4F7178;

/**
 * Overriding Bootstrap variables.
 */

// Grids
$grid-gutter-width:          10px;

// Plume
// $border-radius:          0px;
// $border-radius-lg:       0px;
// $border-radius-sm:       0px;

// Fonts
$font-family-sans-serif:     Merriweather, "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-serif:          Merriweather, Georgia, "Times New Roman", Times, serif;
$font-family-monospace:      Menlo, Monaco, Consolas, "Courier New", monospace;
$font-family-base:           $font-family-sans-serif;

// Buttons
$btn-primary-bg: $old-blue;
$btn-danger-bg:  $poison-blusher;

// Forms
$input-border-focus: $old-blue;

// Import
@import "~bootstrap/scss/bootstrap.scss";

/**
 * Globals.
 */
html, body, #mount, #main {
  height: 100%;
  background-color: $light-grey;
}

main {
  position: relative;
  top: 53px;
}

button {
  font-family: $font-family-base;
  cursor: pointer;
}

input {
  font-family: $font-family-base;
}

/**
 * Semantic colouring.
 */
.red {
  color: $poison-blusher;
}

.green {
  color: $old-blue;
}

.orange {
  color: $inspiring-words;
}

.bold {
  font-weight: bold;
}

/**
 * Layout.
 */
.full-height {
  height: 100%;
}

.overflow {
  overflow-y: auto;
}

.loader {
  text-align: center;
  margin: 10px;

  & > button {
    width: 40px !important;
  }
}

.hidden {
  display: none;
}

/**
 * Titles.
 */
h1 {
  font-family: Montserrat, Arial, sans-serif;
  font-weight: bold;
}

/**
 * Components.
 */

// Side navigation
#sidenav {
  height: calc(100% - 53px); /* 100% Full-height */
  width: 250px; /* 0 width - change this with JavaScript */
  position: fixed; /* Stay in place */
  z-index: 100; /* Stay on top */
  top: 53px;
  left: -250px;
  background-color: white;
  border-right: 1px solid $medium-grey;
  overflow-x: hidden; /* Disable horizontal scroll */
  padding-top: 60px; /* Place content 60px from the top */
  transition: 0.3s;

  &.opened {
    left: 0px;
  }

  .close-btn {
    cursor: pointer;
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
  }

  .sidenav-links {
    overflow-x: hidden;
    list-style-type: none;

    .sidenav-link {
      padding: 10px;

      &.active {
        font-weight: bold;
      }

      a {
        color: $text-black;
      }
    }
  }
}

// Sidenav overlay
#sidenav-overlay {
  z-index: 99;
  width: 0;
  height: calc(100% - 53px);
  position: fixed;
  top: 53px;
  left: 0;
  background-color: rgba(0, 0, 0, 0);
  transition: background-color 0.5s;

  &.opened {
    width: 100%;
    background-color: rgba(0, 0, 0, .3);
  }
}

// Waiter
.waiter {
  font-size: 2em;
}

// Basic panels
.panel {
  background-color: white;
  border: 1px solid $medium-grey;
}

// Generic selectors
.selector {

  &.selector-classification {
    height: 70px;
  }

  &.selector-classification .Select-value {
    padding-top: 10px;
    height: 70px;
    line-height: 1em;
  }

  &.selector-classification .Select-control {
    height: 70px;
  }

  .Select-option.is-focused {
    background-color: $medium-grey;
  }

  .option {
    font-size: 0.8em;

    .addendum {
      font-size: 0.8em;
    }

    &.special {
      color: $poison-blusher;
    }
  }
}

// Explanation
.explanation {
  font-size: 0.9em;
}

.section-explanation {
  line-height: 0.9em;
  font-size: 0.7em;
}

/**
 * Navbar.
 */
.navbar {
  background-color: white;
  border-bottom: 1px solid $medium-grey;
  border-top: 3px solid $poison-blusher;
  padding: 0px;
  line-height: 35px;

  .navbar-brand {
    line-height: 49px;
    padding: 0px;
    color: #777;
    font-family: Montserrat, Arial, sans-serif;
    margin-right: 0px;
  }

  .nav-item {
    border-right: 1px solid $medium-grey;
    padding-left: 15px;
    padding-right: 15px;
    margin: 0px !important;

    &:nth-child(1) {
      border-left: 1px solid $medium-grey;
    }

    &.menu-link {
      cursor: pointer;
    }

    .nav-link {
      font-variant: small-caps;
      text-transform: lowercase;
      letter-spacing: 2px;
      color: $dark;
      font-size: 15px;

      &:hover {
        color: $darker;
      }
    }
  }

  .logout {
    border-left: 1px solid $medium-grey;
    // padding-left: 15px;
    padding-right: 0px;
    cursor: pointer;
  }
}

/**
 * Login.
 */
.login-container {
  position: relative;
  top: 100px;

  .login-panel {
    padding: 40px;
  }
}

/**
 * Home.
 */
#home {
  padding: 15px;

  .panel {
    padding: 20px;
    margin-bottom: 10px;
  }

  a {
    color: $text-black;
  }

  p {
    margin-bottom: 0;
  }
}

/**
 * Classification.
 */
#classification {

  // Browser
  .browser-wrapper {
    padding: 15px;
    height: calc(100vh - 65px);

    .addendum {
      font-size: 0.7em;
    }

    .panel {
      padding: 20px;
    }

    .partial-height {
      height: calc(100% - 65px);

      &.once {
        height: calc(100% - 130px);
      }

      &.twice {
        height: calc(100% - 195px);
      }
    }

    .classifications-category {
      padding-left: 10px;
    }

    .classifications-list {
      padding-left: 10px;
      list-style-type: none;

      .item {
        background-color: $light-grey;
        padding: 10px;
        cursor: pointer;
        margin-bottom: 10px;

        &:hover {
          background-color: $medium-grey;
        }

        &.active {
          background-color: $dark-grey;
        }
      }
    }

    .entities-list {
      padding-left: 10px;
      list-style-type: none;

      .item {
        background-color: $light-grey;
        padding: 10px;
        margin-bottom: 10px;
      }

      .ellipsis {
        cursor: pointer;

        &:hover {
          font-weight: bold;
        }
      }
    }
  }

  // Modal
  .modal-wrapper {
    padding: 15px;

    .panel {
      padding: 20px;
      margin-bottom: 10px;
    }

    .explanation {
      margin-top: 10px;
      font-size: 0.9em;
    }

    .integrity-report {

      .extraneous > ul, .missing > ul {
        max-height: 300px;
        padding: 0px;
        list-style-type: none;

        & > .item {
          font-size: 0.9em;
          background-color: $light-grey;
          padding: 10px;
          margin-bottom: 10px;
        }
      }
    }

    .operations-table {
      margin-top: 20px;
      margin-bottom: 0px;
    }
  }
}

/**
 * Exploration.
 */
#exploration {
  padding: 15px;

  .panel {
    padding: 20px;
    margin-bottom: 10px;
  }

  .section-title, .section-explanation {
    padding: 0px 5px;
  }

  .section-separator {
    background-color: $light-grey;
    padding: 15px 5px;
    margin: 10px 0px;
    border-bottom: 1px solid $medium-grey;
    border-top: 1px solid $medium-grey;
  }

  .indicators-wrapper {

    .summary {
      list-style-type: none;
      padding-left: 0px;

      li {
        margin-bottom: 7px;
      }

      .insert {
        padding: 4px;
        padding-left: 0.5em;
        padding-right: 0.5em;

        &.drop {
          margin-left: 1px;
          cursor: pointer;
        }
      }
    }
  }
}

/**
 * Viz.
 */
svg.quality-bar-chart {
  line {
    stroke: black;
    shape-rendering: crispEdges;
  }

  text {
    font-size: 10px;
  }

  rect {
    cursor: pointer;
  }

  .bar {
    fill: darken($poison-blusher, 20%);
  }

  .year {
    font-size: 9px;
  }
}

svg.sources-per-directions {
  line {
    shape-rendering: crispEdges;
  }

  rect {
    cursor: pointer;
  }

  .axis line{
    shape-rendering: crispEdges;
    stroke: black;
  }

  .axis text {
    font-size: 10px;
  }

  text.legend-label {
    font-size: 10px;
  }

  .local-bar {
    fill: $old-blue;
  }

  .national-bar {
    fill: $dust-sun;
  }
}

.line-chart svg {
  line {
    shape-rendering: crispEdges;
  }

  text {
    font-size: 12px;
  }

  .points {

    circle:hover {
      r: 3;
      cursor: pointer;
    }

    path {
      stroke-width: 1.5px;
      fill: none;
    }
  }

  .axis line {
    stroke: black;

    &.dotted {
      stroke-dasharray: 3, 3;
      stroke: $dark-grey;
    }
  }
}

#sigma-graph {
  width: 100%;
  height: 450px;
  border: 1px solid $medium-grey;
  margin-top: 10px;
  position: relative;
  user-select: none;

  .message {
    font-size: 1.2em;
    font-weight: bold;
    position: absolute;
    text-align: center;
    width: 100%;
    top: 45%;
  }

  .controls {
    position: absolute;
    bottom: 20px;
    right: 25px;
    z-index: 1;

    .control {
      margin-bottom: 5px;
      cursor: pointer;

      button {
        background-color: white;
        border: 1px solid $medium-grey;
        color: $text-black;

        &:hover {
          background-color: $light-grey;
        }
      }
    }
  }

  .filters {
    position: absolute;
    top: 20px;
    left: 25px;
    z-index: 1;
    font-size: 0.7em;

    label {
      margin-left: 10px;
    }
  }

  .node-display {
    position: absolute;
    bottom: 20px;
    left: 25px;
    background-color: white;
    border: 1px solid $medium-grey;
    z-index: 1;
    font-size: 0.8em;
    padding: 10px;
  }

  .fuzzy-node-searcher {
    position: absolute;
    top: 20px;
    right: 25px;
    width: 40%;
    z-index: 5;
  }
}
